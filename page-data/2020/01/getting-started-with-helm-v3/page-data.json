{"componentChunkName":"component---src-templates-article-js","path":"/2020/01/getting-started-with-helm-v3/","result":{"data":{"markdownRemark":{"html":"<p>I've been digging more into Kubernetes lately trying to figure out the best way to monitor certain resources and metrics within my cluster.</p>\n<p>An important component for monitoring in Kubernetes is metrics-server - which I usually quickly install with helm.</p>\n<p>So I downloaded the newest release of Helm and did the following:</p>\n<pre><code class=\"language-bash\">$ helm install stable/metrics-server metrics-server \\\n  --version 2.0.2 \\\n  --namespace metrics\nError: failed to download \"metrics-server\" (hint: running `helm repo update` may help)\n</code></pre>\n<p>Hmm, that's weird. Ok, let me follow what the output says:</p>\n<pre><code class=\"language-bash\">$ helm repo update\nError: no repositories found. You must add one before updating\n</code></pre>\n<h2>Helm Repo Initialization</h2>\n<p>The reason we're seeing these messages is because in Helm v3 the <code>stable</code> repo is not automatically installed.</p>\n<p>There reason for this can be found in the <a href=\"https://github.com/helm/helm/issues/6359#issuecomment-528914720\">comments on GitHub</a>\nbut essentially the helm team are trying to move away from the idea that <code>stable</code> is the de-facto \"central\" repo for\nall helm charts.</p>\n<p>What's also not so clear from any of the docs is how to enable the stable repo so that you can go on living your life.</p>\n<h2>Usability</h2>\n<p>Although their decision makes sense, from a usability point of view this can cause issues - especially when you are trying to skill up newer engineers into the Kubernetes way of life.</p>\n<h2>Adding the Stable Repo to Helm v3</h2>\n<p>To add the stable repo you need to install it using the url to the charts which are hosted in GCP:</p>\n<pre><code class=\"language-bash\">helm repo add stable https://kubernetes-charts.storage.googleapis.com/\n\"stable\" has been added to your repositories\n</code></pre>\n<p>From here you can now update the repo and install the required stable charts.</p>\n<h2>Conclusion</h2>\n<p>I hope that this might at least help some other schmuck like me who spent a good hour trying to figure out how to add this in :).</p>","frontmatter":{"date":"06 January 2020","slug":"/2020/01/getting-started-with-helm-v3/","title":"Getting Started with Helm v3"}}},"pageContext":{"slug":"/2020/01/getting-started-with-helm-v3/"}}}